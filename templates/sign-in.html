{% from 'bootstrap5/form.html' import render_form %}
{% block content %}
{% include 'header.html' %}

{% include 'navbar.html' %}
<div class="container">
  <div class="row">
    <div class="col col-xl-4 col-m-12">
      <ul class="nav nav-tabs" style="margin-bottom:20px;">
        <li><a data-toggle="tab" href="#login">LOG IN</a></li>
        <li><a data-toggle="tab" href="#signup">SIGN UP</a></li>
      </ul>

      <div class="tab-content">
        <div id="login" class="tab-pane in active">
          {{ render_form(login_form, novalidate=True, button_map = {"submit": "primary"})}}
        </div>
        <div id="signup" class="tab-pane">
          {{ render_form(register_form, novalidate=True, button_map = {"submit": "primary"}) }}
        </div>
        <!-- Adding Flash message here for users trying to register twice -->
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
        <p class="flash" style="color:rgb(255, 44, 44)">{{ message }}</p>
        {% endfor %}
        {% endif %}
        {% endwith %}
      </div>
    </div>
  </div>
</div>
{% endblock %}
{% include 'footer.html' %}
